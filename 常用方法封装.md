```javascript
/**
 * 获取url中的某个参数的值
 * @method getHrefVal
 * @param {string} name (必传 查找的url中的某个参数的值)
 * @param {string} url (可选)
 * @return {string}
 */
function getHrefVal(name, url) {
  const reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
  let regMatch = window.location.search.substr(1).match(reg);
  if (url) {
    let _url = url.split("?")[1];
    regMatch = _url.match(reg);
  }
  if (regMatch === null) return "";
  else return decodeURIComponent(regMatch[2]);
}
```

```javascript
/**
 * 数字格式化 1234567890 --> 1,234,567,890
 * @method formatNumber
 * @param {string} str (必传 数字的字符串形式)
 * @param {string} joiner (可选 格式化的连接符)
 * @return {string}
 */
function formatNumber(str, joiner = ",") {
  const len = str.length;
  let arr = [],
    count = len;

  while (count >= 3) {
    arr.unshift(str.slice(count - 3, count));
    count -= 3;
  }
  // 数字长度如果不是3的倍数则追加上去
  len % 3 && arr.unshift(str.slice(0, len % 3));
  return arr.join(joiner);
}

function formatNumber(str, joiner = ",") {
  return str
    .split("")
    .reverse()
    .reduce((prev, next, index) => {
      return (index % 3 ? next : next + joiner) + prev;
    });
}
```

```javascript
/**
 * 数据类型检测
 * @method judgeType
 * @param {*} data
 */
function judgeType(data) {
  return Object.prototype.toString
    .call(data)
    .slice(8, -1)
    .toLocaleLowerCase();
}
```

```javascript
/**
 * 交换数组中两项的位置
 * @method swapArray
 * @param {Array} arr (进行操作的数组)
 * @param {number} x (位置1下标索引)
 * @param {number} y (位置2下标索引)
 * @return {Array}
 */
function swapArray(arr, x, y) {
  const swapArr = arr.concat();
  const len = arr.length;

  x < 0 && (x = len + x);
  y < 0 && (y = len + y);

  if (x < 0 || y < 0 || x > len - 1 || y > len - 1) {
    console.error("两个相互交互的位置不得大于数组长度");
    return swapArr;
  }

  if (x === y) {
    return swapArr;
  }
  // ES5 写法
  // swapArr.splice(x, 1, swapArr.splice(y, 1, swapArr[x])[0])

  // ES6 写法
  // [swapArr[x], swapArr[y]] = [swapArr[y], swapArr[x]] // 解构赋值的写法
  swapArr.splice(x, 1, ...swapArr.splice(y, 1, swapArr[x])); // 普通写法
  return swapArr;
}
```

```javascript
/**
 * 格式化时间
 * @method formatDate
 * @param {string | number} (可以被 Date.parse() 方法识别的字符串或者时间戳)
 * @return {string}
 */
function formatDate(date) {
  const date = new Date(date);
  let y = date.getFullYear();
  let m = date.getMonth() + 1;
  // m = m < 10 ? ('0'+m) : m;
  m < 10 && (m = "0" + m);
  let d = date.getDate() + 1;
  // d = d < 10 ? ('0'+d) : d;
  d < 10 && (d = "0" + d);
  let hour = date.getHours();
  hour < 10 && (hour = "0" + hour);
  let min = date.getMinutes();
  min < 10 && (min = "0" + min);
  let sec = date.getSeconds();
  sec < 10 && (sec = "0" + sec);
  return y + "-" + m + "-" + d + " " + hour + ":" + min + ":" + sec;
}
```

```javascript
/**
 * 数据筛选
 * 根据一个对象中的多条件来筛选出数组中符合条件的多个数据
 * @method multiFilter
 * @param {Array} originalArr (被用来筛选的原始数组)
 * @param {Object} filtersObj ()
 * @return {Array}
 */
function multiFilter(originalArr, filtersObj) {
  const filterKeys = Object.keys(filtersObj);
  return originalArr.filter(item => {
    return filterKeys.every(key => {
      if (!filtersObj[key].length) return true;
      return !!~filtersObj[key].indexOf(item[key]);
    });
  });
}
const originalArr = [
  { name: "Anne", age: 23, gender: "female" },
  { name: "Leila", age: 16, gender: "female" },
  { name: "Jay", age: 19, gender: "male" },
  { name: "Mark", age: 40, gender: "male" }
];
const filtersObj = {
  name: ["Leila", "Jay"],
  age: [19, 23]
};
// resArr: {name: "Jay", age: 19, gender: "male"}
const resArr = multiFilter(originalArr, filtersObj);
```
